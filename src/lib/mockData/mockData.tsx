import { Attribute, AttributeId, DieType, Edge, Hindrance, Race, Rank, Skill } from "./types";


export const races: Race[] = [
    {
        name: "Авионы",
        description: "Раса крылатых людей. Как правило, они отличаются хрупким телосложением, поскольку у них полые кости.",
        traits: [
            "Полёт: авионы могут летать и даже переходить на «бег» в полёте, исходя из значения Шага. Им необходимо 2 клетки Шага для того, чтобы набрать 1 «клетку» высоты.",
            "Почти как люди: авионы могут выбрать одну бесплатную черту во время создания персонажа при условии, что она соответствует требованиям игрового мира.",
            "Полые кости: авионы получают штраф – 1 к Стойкости."
        ]
    },
    {
        name: "Андроиды",
        description: "Разумные машины, которые могут выглядеть очень по-разному в зависимости от игрового мира. Одни практически неотличимы от людей, другие — больше напоминают ожившие механизмы. Описанные здесь андроиды представляют собой базовый вариант, обладающий обычными человеческими знаниями и эмоциями. В зависимости от их роли и предназначения в рамках игрового мира, их возможности можно изменить, расширить или сократить.",
        traits: [
            "Законы Азимова: андроиды не могут причинять вред разумным существам действием или бездействием. В силу этого они получают изъян Пацифист (крупный).",
            "Искусственный: сверхъестественные силы, как вредоносные, так и благотворные, воздействуют на андроидов со штрафом – 2. Надо отметить, что этот штраф не распространяется на силы, наносящие прямой урон.",
            "Механизм/голем: андроиды получают +2 к попыткам выйти из шока, не получают штрафов за ранения, невосприимчивы к ядам и болезням, но не оправляются от ранений с течением времени. Для исцеления андроида требуется навык Ремонт, который применяется аналогично навыку Медицина, но на него не распространяется правило «Золотого часа».",
            "Перезарядка: в ходе создания персонажа игрок должен определиться с источником энергии, на котором работает андроид. Если андроид не подзаряжается хотя бы один раз в день, он автоматически получает уровень усталости каждый последующий день, пока не оказывается в состоянии при смерти. На следующий день он «отключается», и для его включения потребуется успешная проверка навыка Ремонт и четырёхчасовая перезарядка. Данный источник энергии заменяет андроиду пищу и воду, впрочем, пища и вода вполне могут быть выбраны в качестве источника энергии.",
            "Программа: андроиды начинают с d6 в одном из навыков, соответствующих функции, на которую они были изначально запрограммированы.",
            "Чужак: представители органических рас часто не доверяют андроидам или же не понимают их. Андроиды получают штраф – 2 к Харизме при общении с другими расами."
        ]
    },
    {
        name: "Атланты",
        description: "Загадочные атланты происходят из бездонных морских глубин. Они прекрасно приспособлены к жизни под водой, но нередко оказываются чувствительными к высокой температуре и сухому климату. Их цивилизация достигла немалых высот, и наука атлантов творит настоящие чудеса.",
        traits: [
            "Водный: атланты живут в воде и не могут утонуть или захлебнуться. Их Шаг в воде соответствует навыку Плаванье, и они начинают игру с d6 в навыке Плаванье.",
            "Обезвоживание: атлантам необходимо проводить в воде хотя бы один час в сутки, в противном случае они автоматически получают по одному уровню усталости в течение каждого последующего дня, пока не оказываются при смерти. На следующей день они умирают.",
            "Развитая цивилизация: атланты нередко превосходят по интеллектуальным способностям большинство обитателей их мира. Они начинают игру со Смекалкой d6, а не d4.",
            "Стойкий: высокое давление, присущее их глубоководным домам, делает атлантов гораздо более стойкими, чем большинство обитателей суши. Их Стойкость увеличивается на 1."
        ]
    },
    {
        name: "Вайри",
        description: "Разумные насекомые родом с одной далёкой гигантской планеты. У себя дома они чуть ли не самые мелкие существа, и большинство хищников с удовольствием готово полакомиться ими. Такая жизнь наложила особенный отпечаток на их развитие, превратив вайри в расу суровых и жестоких воинов, обладающих рядом удивительных особенностей. Вайри высоко ценятся как преданные наёмники, надёжные телохранители и специалисты, способные проникнуть даже в самую защищённую цитадель. Примитивная культура этих насекомых построена вокруг понятий «преданности» и «долга», без которых племя не смогло бы выжить на своей суровой и жестокой планете.",
        traits: [
            "Высокая гравитация: родным миром вайри является планета, по своим размерам превосходящая Землю в десятки раз. Из-за этого все вайри гораздо сильнее людей и начинают игру с Силой d6. Нахождение в условиях пониженной гравитации, тем не менее, не приводит к деградации мышечной ткани благодаря хитиновому экзоскелету.",
            "Инсектоид: вайри являются насекомыми, и все остальные расы испытывают к ним недоверие, а некоторые и вовсе боятся. Вайри получают штраф – 2 к Харизме.",
            "Паучьи лапы: удивительная физиология позволяет вайри перемещаться по любым поверхностям. Считайте, что персонаж постоянно находится под действием силы Паучьи лапы.",
            "Примитивные: в своём развитии цивилизация вайри лишь только что вышла из первобытно-общинного строя. Смекалка ваири не может превышать d6.",
            "Хитин: тело вайри покрыто крепким хитином, соответствующим броне +2."
        ]
    },
    {
        name: "Гномы",
        description: "Гномы — низкорослые, крепкие и коренастые существа, живущие в огромных пещерах высоко в горах. Гномы известны своей гордостью и воинственностью, которая проистекает из частых столкновений с агрессивными соседями вроде орков и гоблинов. Гномы обычно живут более 200 лет. В большинстве фэнтези миров у них красноватая кожа и волосы самых различных оттенков.",
        traits: [
            "Медленный: Шаг гномов равен 5.",
            "Ночное зрение: глаза гномов привыкли к полумраку подземных туннелей. Гномы не получают штрафов к проверкам атаки в темноте и сумраке.",
            "Стойкий: гномы отличаются исключительной выносливостью и стойкостью. Они начинают игру с Выносливостью d6, а не d4."
        ]
    },
    {
        name: "Люди",
        description: "В большинстве фэнтези миров люди получают традиционное преимущество в виде одной бесплатной черты на выбор. Данная особенность отражает их способность к адаптации, отличающую людей от представителей иных рас. Если вы желаете разнообразить ваших людей, вы можете наделить их культурными, а не расовыми особенностями. К примеру, человек, принадлежащий к народу мореходов, может начать игру с навыками Судовождение и Плавание, равными d6. Вы вольны придумывать различные культуры наравне с расами.",
        traits: []
    },
    {
        name: "Полуэльфы",
        description: "Полуэльфы — достойные потомки своих родителей. Они наследуют легендарную эльфийскую грацию, но не слабости, присущие этому древнему народу. Большинство полуэльфов довольно быстро привыкает к своему необычному наследию, но некоторые из них сталкиваются с неприязнью со стороны одной из семейных веток. Иногда дело доходит даже до физического насилия, вызванного ненавистью к «полукровкам». Продолжительность жизни полуэльфов больше соответствует человеческой, чем эльфийской. Обычно полуэльфы живут около 100 лет.",
        traits: [
            "Наследие: некоторые полуэльфы наследуют грацию своих эльфийских родителей, другие же приобретают способность к адаптации к любым условиям, присущую людям. Полуэльф может начать игру с бесплатной чертой (как человек) или с Ловкостью d6 (как эльф).",
            "Ночное зрение: глаза полуэльфов подобно кошачьим собирают свет и позволяют видеть в темноте. Полуэльфы не получают штрафов к проверкам атаки в темноте и сумраке.",
            "Чужак: полуэльфы не являются чужаками в классическом понимании этого слова, и у них нет соответствующего изъяна, но при этом они чувствуют себя не очень комфортно в чисто человеческих или эльфийских сообществах."
        ]
    },
    {
        name: "Полурослики",
        description: "Полурослики — низенькие ловкие существа с курчавыми волосами каштанового или чёрного цвета. Хоть они не могут похвастаться богатырской силой, их неиссякаемый оптимизм (или врождённая хитрость) и неизменный принцип «никогда не отчаивайся» позволяют им нередко справиться с существами, значительно превышающими их размерами. Полурослики не любят неприятности и поэтому предпочитают жить в небольших сельских общинах вдали от многолюдных трактов.",
        traits: [
            "Неунывающий: полурослики отличаются оптимизмом. Начальное значение их Характера равно d6.",
            "Низкорослый: средний рост полурослика обычно не превышает 1,2 м, поэтому они получают штраф – 1 к Стойкости и размер – 1.",
            "Удачливый: полурослики получают дополнительную фишку в начале каждой игровой сессии. Эта особенность может комбинироваться с чертами Везение и Везение+."
        ]
    },
    {
        name: "Полуорки",
        description: "Полуорки появляются на свет от связи человека с орком или же орка с другим полуорком. Плоды подобных союзов не очень любимы окружающими, поэтому происхождение полуорков доставляет им немало хлопот. Орки чаще всего не имеют ничего против присутствия полуорков в своих поселениях, чего нельзя сказать о представителях других рас (например, людей, эльфов и гномов). Некоторые полуорки присоединяются к одной из «цивилизованных» рас, отказываясь от своих варварских корней и стараясь заслужить признание. Многие полуорки совершают удивительные подвиги, чтобы показать, чего они стоят. У полуорков обычно светлая кожа с лёгкой примесью традиционной орочьей окраски, чёрные волосы и маленькие глаза. Чаще всего у них грубые и угловатые лица. Обычно они живут не меньше людей, но довольно редко умирают от старости.",
        traits: [
            "Тепловидение: полуорки могут видеть в инфракрасном диапазоне, поэтому штрафы за плохое освещение уменьшаются вдвое (округляются вниз).",
            "Сильный: полуорки наследуют силу, присущую их орочьим предкам. Они начинают игру с Силой d6.",
            "Чужаки: большинство цивилизованных рас не доверяет полуоркам, поэтому полуорки получают штраф – 2 к Харизме."
        ]
    },
    {
        name: "Ракашаны",
        description: "Ракашаны похожи на людей с ярко выраженными кошачьими чертами. Существует множество разновидностей ракашанов, которые очень сильно отличаются друг от друга. Некоторые из них характеризуются контрастной полосатой окраской, присущей тиграм, другие покрыты пятнистым леопардовым мехом, а третьи и вовсе могут иметь окрас сиамских котов. Ракашанов также отличают острые когти и зубы. Они очень жестоко расправляются со своими жертвами. Ракашанов можно встретить в их экзотических и таинственных городах или же на периферии более привычных крупных поселений. Они слишком красивы, поэтому другие расы не гонят их, но они слишком чужды всем, и поэтому их не принимают с распростёртыми объятиями.",
        traits: [
            "Ловкий: ракашанам присуща кошачья грация их дальних предков. Они начинают игру с Ловкостью d6 вместо d4.",
            "Кровожадный: ракашаны могут быть очень жестокими по отношению к своим врагам, с наслаждением играя с ними в кровавые игры. Они редко берут пленников и не брезгуют расправой с безоружными. Поэтому ракашаны получают штраф – 4 к Харизме при общении с более «цивилизованными» расами.",
            "Расовый враг: цивилизация ракашанов традиционно развивается за счёт других рас. Выберите одну из распространённых рас вашего игрового мира. Представители каждой из сторон получают штраф – 4 к Харизме при общении друг с другом. Если их не связывает общая цель или же не сковывают цепи закона, представители этих рас бросаются в бой, как только увидят друг друга.",
            "Когти: ракашаны наделены убирающимися когтями, наносящими урон Сила +d6 и дающими преимущество +2 к навыку Лазанье в любых условиях за исключением отвесных поверхностей.",
            "Ночное зрение: глаза Ракашанов собирают свет подобно глазам кошки, что позволяет им видеть в темноте. Ракашаны не получают штрафы к проверкам атаки в темноте и сумраке."
        ]
    },
    {
        name: "Ретлане",
        description: "Эта цивилизация пережила ужасную техногенную катастрофу, практически полностью уничтожившую большую часть населения планеты. Оставшиеся в живых нашли в себе силы осознать причины катаклизма и начать заново развитие собственной цивилизации в принципиально ином направлении. Вместо накопления материальных благ ретлане начали совершенствовать свой внутренний мир. Спустя века они превратились в одну из самых уважаемых рас во Вселенной. Многие народы часто посещают родной мир этой цивилизации и обращаются к ретланам как к абсолютно непредвзятым судьям, способным разрешить практически любой конфликт. Удивительные таланты ретлан обострили их чувства и даровали им способности управлять материей с помощью силы мысли.",
        traits: [
            "Дух первичен: в своём развитии ретлане пошли по пути отрицания материального, и это сказалось ни их образе жизни. Они начинают игру с Характером d6.",
            "Беспристрастные судьи: +2 к Харизме при общении с любой расой — ретлане давно заслужили доверие.",
            "Истина рядом: все ретлане от рождения наделены псионическим даром. Они начинают игру с чертой Мистический дар (псионика).",
            "Тело вторично: для повышения значения Силы или Выносливости во время создания персонажа требуется два пункта вместо одного."
        ]
    },
    {
        name: "Сауриане",
        description: "Родиной людоящеров являются тропические джунгли или далёкие пустыни, где развивается их уникальная цивилизация, скрытая от глаз представителей других разумных рас. Поскольку немногим чужакам удалось влиться в общество сауриан, слухи о том, что саурианские религиозные обряды включают в себя жертвоприношения разумных существ, остаются неподтверждёнными.",
        traits: [
            "Природное оружие: хвост, когти и зубы сауриан позволяют им сокрушать противника хвостом, а также разрывать их тела когтями и зубами, нанося урон Сила +d4.",
            "Теплолюбивый: хоть сауриане не являются хладнокровным в полной мере, они испытывают определённые неудобства в условиях сильного холода. Они получают штраф –4 к проверкам Выносливости в условиях холодной окружающей среды.",
            "Чувства сауриан: сауриане могут «пробовать» воздух своими раздвоенными языками, в результате чего они получают +2 к проверкам Внимания. В случае с проверками Маскировки считается, что сауриане постоянно наготове.",
            "Чужак: большинство других рас не доверяет немигающим саурианам. Их странная привычка пожирать ещё живую добычу также не добавляет им очарования. Сауриане получают штраф – 2 к Харизме."
        ]
    },
    {
        name: "Теневые эльфы",
        description: "В отличие от своих светлых собратьев, теневые эльфы живут под землёй, и поэтому у них бледная кожа и пепельные волосы. Удивительно острый слух позволил теневым эльфам не только выжить и приспособиться к необычной среде, но и стать чуть ли не самыми опасными из обитателей подземелий. Они могут жить очень долго, однако крайне редко умирают от старости. Теневые эльфы часто совершают набеги на поверхность, из-за чего их ненавидят многие народы.",
        traits: [
            "Боевая закалка: под землёй ты или быстрый, или мёртвый. Выживают сильнейшие, и они получают черту Боевая закалка на старте.",
            "Древний враг: эльфы с поверхности уверены, что их братья продались демонам, и не одобряют их уклад жизни. Поэтому с ними практически невозможно вести дела. Теневые эльфы получают штраф – 4 к Харизме, когда общаются с эльфами с поверхности.",
            "Ночное зрение: глаза теневых эльфов подобно кошачьим собирают свет и позволяют видеть в темноте. Эльфы не получают штрафов к проверкам атаки в темноте и сумраке.",
            "Острый слух: обретаясь в подземельях, теневые эльфы часто полагаются на слух, благодаря чему они получают преимущество +2 к проверкам Внимания, связанным со слухом.",
            "Хлипкий: Недостаток солнечного света и тепла сделал кости теневых эльфов ломкими и хрупкими, из-за чего их Стойкость уменьшается на 1."
        ]
    },
    {
        name: "Эльфы",
        description: "Эльфы — высокие и стройные существа с острыми ушами и глубоко посаженными глазами различных оттенков. Являются ли их родиной леса или потайные долины, все эльфы с самого детства отличаются большей грацией, чем люди, пускай даже уступают последним в силе. Большинство эльфов живёт больше 300 лет. У них светлая кожа и волосы самых различных цветов, включая необычные оттенки вроде серебристого и синего.",
        traits: [
            "Кривые руки: эльфы питают врождённую неприязнь к механизмам и получают соответствующий изъян. Они стараются держаться подальше от сложных механизмов и устройств.",
            "Ловкий: все эльфы отличаются ловкостью и грацией. Они начинают игру с Ловкостью d6 вместо d4.",
            "Ночное зрение: глаза эльфов подобно кошачьим собирают свет и позволяют видеть в темноте. Эльфы не получают штрафов к проверкам атаки в темноте и сумраке."
        ]
    }
];

// Константа с прогрессией кубиков (будет использоваться и для характеристик, и для навыков)
export const DIE_PROGRESSION: DieType[] = ["d4", "d6", "d8", "d10", "d12"];

export const attributes: Attribute[] = [
    {
        id: "agility",
        name: "Ловкость",
        description: "Проворство, скорость реакции и подвижность персонажа.",
        startingDie: "d4",
        progression: DIE_PROGRESSION
    },
    {
        id: "smarts",
        name: "Смекалка",
        description: "Знание культуры и окружающего мира, находчивость и способность схватывать на лету.",
        startingDie: "d4",
        progression: DIE_PROGRESSION
    },
    {
        id: "spirit",
        name: "Характер",
        description: "Мудрость и сила воли персонажа.",
        startingDie: "d4",
        progression: DIE_PROGRESSION,
        mechanicalImpact: "Определяет способность оправиться от шока при ранении"
    },
    {
        id: "strength",
        name: "Сила",
        description: "Грубая сила и физическая форма персонажа.",
        startingDie: "d4",
        progression: DIE_PROGRESSION,
        mechanicalImpact: "Влияет на урон в рукопашной схватке"
    },
    {
        id: "vigor",
        name: "Выносливость",
        description: "Стойкость организма, сопротивляемость болезням, ядам и токсинам.",
        startingDie: "d4",
        progression: DIE_PROGRESSION,
        mechanicalImpact: "Определяет количество физического урона без вреда для себя"
    }
];


export const skills: Skill[] = [
    {
        id: "survival",
        name: "Выживание",
        description: "Позволяет находить еду, воду и укрытие во враждебной среде. Одна проверка в сутки обеспечивает одного персонажа (подъём — пятерых взрослых).",
        linkedAttribute: "smarts",
        progression: DIE_PROGRESSION
    },
    {
        id: "tracking",
        name: "Выслеживание",
        description: "Позволяет идти по следу одиночки или группы в любой местности. Каждая проверка обычно подразумевает продвижение по следу на расстояние полутора километров.",
        linkedAttribute: "smarts",
        progression: DIE_PROGRESSION
    },
    {
        id: "fighting",
        name: "Драка",
        description: "Столкновения лицом к лицу: кулаки, топоры, лазерные мечи, боевые искусства. Сложность проверки — Защита оппонента (2 + половина Драки).",
        linkedAttribute: "agility",
        progression: DIE_PROGRESSION
    },
    {
        id: "intimidation",
        name: "Запугивание",
        description: "Искусство подавить противника волей, намёком, угрозами или оружием. Встречная проверка: Запугивание против Характера оппонента.",
        linkedAttribute: "spirit",
        progression: DIE_PROGRESSION
    },
    {
        id: "knowledge",
        name: "Знание",
        description: "Широкое понятие, требующее уточнения области (оккультизм, химия, история и т.д.). Можно взять несколько раз с разными специализациями.",
        linkedAttribute: "smarts",
        progression: DIE_PROGRESSION,
        hasSpecialties: true,
        specialtiesExamples: [
            "местность", "военное дело", "компьютеры", "электроника", "история",
            "журналистика", "языки", "право", "медицина", "наука", "тактика"
        ],
        notes: "Языки — отдельная специализация. Базовую информацию можно получить через Общедоступные знания без проверки навыка."
    },
    {
        id: "gambling",
        name: "Азартные игры",
        description: "Позволяет выигрывать в азартных играх. При жульничестве +2 к проверке, но результат 1 на кубике навыка означает разоблачение.",
        linkedAttribute: "smarts",
        progression: DIE_PROGRESSION
    },
    {
        id: "riding",
        name: "Верховая езда",
        description: "Позволяет оседлать и управлять любым ездовым животным, известным в игровом мире. В бою верхом используется минимальный из навыков Верховой езды или Драки.",
        linkedAttribute: "agility",
        progression: DIE_PROGRESSION
    },
    {
        id: "lockpicking",
        name: "Взлом",
        description: "Способность обходить механические и электронные замки, обезвреживать капканы и пусковые механизмы ловушек.",
        linkedAttribute: "agility",
        progression: DIE_PROGRESSION
    },
    {
        id: "notice",
        name: "Внимание",
        description: "Отражает бдительность персонажа, помогает замечать улики, детали, подкрадывающихся врагов, засады и определять ложь собеседника.",
        linkedAttribute: "smarts",
        progression: DIE_PROGRESSION,
        notes: "Чем больше подъёмов при проверке, тем больше информации раскрывает ведущий."
    },
    {
        id: "driving",
        name: "Вождение",
        description: "Позволяет управлять наземным транспортом и транспортом на воздушной подушке, характерным для игрового мира.",
        linkedAttribute: "agility",
        progression: DIE_PROGRESSION
    },
    {
        id: "climbing",
        name: "Лазанье",
        description: "Позволяет взбираться на препятствия. При успехе персонаж поднимается на количество клеток, равное половине его Силы; при подъёме — дополнительно +2 клетки.",
        linkedAttribute: "strength",
        progression: DIE_PROGRESSION,
        notes: "Провал с результатом 1 или меньше — падение. Со страховкой вместо ранения получает уровень усталости."
    },
    {
        id: "healing",
        name: "Лечение",
        description: "Искусство врачевать ранения и увечья. Каждый успех и подъём при проверке исцеляет одно ранение. Учитывается штраф за ранения лекаря и пациента.",
        linkedAttribute: "smarts",
        progression: DIE_PROGRESSION
    },
    {
        id: "stealth",
        name: "Маскировка",
        description: "Способность прятаться, перемещаться незаметно, обшаривать карманы. Против пассивной охраны — простой успех; против активной — встречная проверка с Вниманием.",
        linkedAttribute: "agility",
        progression: DIE_PROGRESSION,
        notes: "Последние 6 клеток до цели требуют встречной проверки Маскировка против Внимания цели."
    },
    {
        id: "throwing",
        name: "Метание",
        description: "Охватывает все виды метательного оружия: гранаты, ножи, топоры, копья. Используется как Стрельба с теми же модификаторами дистанции.",
        linkedAttribute: "agility",
        progression: DIE_PROGRESSION
    },
    {
        id: "piloting",
        name: "Пилотирование",
        description: "Позволяет управлять самолётами, вертолётами, реактивными ранцами и любыми другими летательными аппаратами игрового мира.",
        linkedAttribute: "agility",
        progression: DIE_PROGRESSION
    },
    {
        id: "swimming",
        name: "Плаванье",
        description: "Определяет, утонет персонаж или выплывет, а также скорость плавания. Шаг в воде = половина навыка Плаванья (округление вверх).",
        linkedAttribute: "agility",
        progression: DIE_PROGRESSION,
        notes: "Задержка дыхания: 2 + значение Выносливости раундов (или половина при неожиданном погружении)."
    },
    {
        id: "taunt",
        name: "Провокация",
        description: "Поединок воли для уязвления самолюбия оппонента через насмешки и демонстрацию превосходства. Встречная проверка против Смекалки оппонента.",
        linkedAttribute: "smarts",
        progression: DIE_PROGRESSION
    },
    {
        id: "investigation",
        name: "Расследование",
        description: "Умение эффективно получать информацию из библиотек, архивов, Сети и других письменных/печатных/электронных источников.",
        linkedAttribute: "smarts",
        progression: DIE_PROGRESSION
    },
    {
        id: "repair",
        name: "Ремонт",
        description: "Способность чинить механизмы, транспорт, оружие и технику. Штраф –2 без базового набора инструментов. Подъём вдвое уменьшает время ремонта.",
        linkedAttribute: "smarts",
        progression: DIE_PROGRESSION
    },
    {
        id: "shooting",
        name: "Стрельба",
        description: "Охватывает все виды дистанционного оружия: луки, пистолеты, ракетные установки. Базовая сложность попадания = 4.",
        linkedAttribute: "agility",
        progression: DIE_PROGRESSION
    },
    {
        id: "boating",
        name: "Судовождение",
        description: "Позволяет управлять лодками и кораблями игрового мира, понимать основы морского дела (вязать узлы, натягивать паруса и т.д.).",
        linkedAttribute: "agility",
        progression: DIE_PROGRESSION
    },
    {
        id: "persuasion",
        name: "Убеждение",
        description: "Способность уговорить других сделать то, что нужно персонажу. Успешная проверка улучшает отношение статиста на одну ступень, подъём — на две.",
        linkedAttribute: "spirit",
        progression: DIE_PROGRESSION,
        notes: "К проверке всегда добавляется модификатор Харизмы. Нельзя применять к персонажам игроков."
    },
    {
        id: "streetwise",
        name: "Уличное чутьё",
        description: "Позволяет получать информацию от людей: сбор сведений на улицах, в салунах, через связи, взятки или угрозы.",
        linkedAttribute: "smarts",
        progression: DIE_PROGRESSION,
        notes: "К проверке всегда добавляется модификатор Харизмы. Для информации из книг/интернета используйте Расследование."
    }
];



export const hindrances: Hindrance[] = [
    {
        id: "anemic",
        name: "Болезненность",
        size: "minor",
        description: "Персонаж легко заболевает, утомляется, особо чувствителен к отрицательному воздействию окружающей среды.",
        mechanicalEffects: {
            checkPenalties: [
                {
                    situation: "Проверки усталости против ядов, болезней и подобных воздействий",
                    penalty: -2
                }
            ]
        }
    },
    {
        id: "fear",
        name: "Боязнь",
        size: "minor", // может быть мелким или крупным
        description: "Захлёстывающий, необъяснимый страх, который остаётся с персонажем на всю жизнь. Боязнь иррациональна (не «бояться вампиров» — это здравый смысл).",
        mechanicalEffects: {
            checkPenalties: [
                {
                    situation: "Проверки параметров при столкновении с источником страха (мелкий изъян)",
                    penalty: -2
                },
                {
                    situation: "Проверки параметров при столкновении с источником страха (крупный изъян)",
                    penalty: -4
                }
            ]
        }
    },
    {
        id: "wanted",
        name: "В розыске",
        size: "minor",
        description: "Персонаж некогда совершил преступление и будет арестован, если попадётся. Имеет смысл только если в мире есть законы и правоохранительные органы.",
        mechanicalEffects: {
            specialRules: [
                "Серьёзность зависит от тяжести преступления: неоплаченные штрафы = мелкий изъян, обвинение в убийстве = крупный изъян"
            ]
        }
    },
    {
        id: "loyal",
        name: "Верный друг",
        size: "minor",
        description: "Персонаж не оставит друга в беде, если есть хоть малейший шанс помочь.",
        mechanicalEffects: {
            specialRules: [
                "Обязательно помогает друзьям даже в опасных ситуациях"
            ]
        }
    },
    {
        id: "enemy",
        name: "Враг",
        size: "minor",
        description: "Кое-кто ненавидит персонажа и желает ему смерти. Серьёзность зависит от силы врага и частоты его появления.",
        mechanicalEffects: {
            specialRules: [
                "Мелкий: одинокий стрелок, алчущий мести",
                "Крупный: стрелок со сверхъестественными способностями, желающий мучительной смерти",
                "После победы над врагом ведущий должен назначить нового или персонаж может выкупить изъян за повышение"
            ]
        }
    },
    {
        id: "heroic",
        name: "Герой",
        size: "major",
        description: "Благородная душа, которая не в состоянии отказать тому, кто оказался в беде. Первым вбегает в горящий дом, охотится на чудовищ почти бесплатно.",
        mechanicalEffects: {
            specialRules: [
                "Обязательно помогает нуждающимся, легко растрогать слезливой историей"
            ]
        }
    },
    {
        id: "looseLips",
        name: "Длинный язык",
        size: "minor",
        description: "Персонаж не очень хорошо хранит секреты. Раскрывает планы и делится тайнами в самое неподходящее время.",
        mechanicalEffects: {
            specialRules: [
                "Склонен раскрывать секреты и планы в неподходящее время"
            ]
        }
    },
    {
        id: "badHabit",
        name: "Дурная привычка",
        size: "minor",
        description: "У персонажа есть мерзкая привычка или зависимость.",
        mechanicalEffects: {
            attributeModifiers: {
                // Для мелкого изъяна
            },
            specialRules: [
                "Мелкий: раздражает окружающих, штраф -1 к Харизме",
                "Крупный: физическая/психологическая зависимость (наркотики, алкоголь, виртуальная реальность)",
                "Без дозы: проверка усталости каждые 24 часа → усталость → истощение → кома/трясучка/ломка",
                "Медицинский уход облегчает симптомы; иначе штрафы 1d6 дней, затем требуется выкупить изъян за повышение"
            ]
        }
    },
    {
        id: "badTemper",
        name: "Дурной характер",
        size: "minor",
        description: "Персонаж отличается несговорчивостью и скверным характером. Мало кому нравится, ничего не делает бескорыстно.",
        mechanicalEffects: {
            attributeModifiers: {
                // Харизма не является характеристикой в системе, но влияет на социальные проверки
            },
            specialRules: [
                "Штраф -2 к Харизме (социальным взаимодействиям)"
            ]
        }
    },
    {
        id: "greedy",
        name: "Жадность",
        size: "minor",
        description: "Персонаж скуп и охоч до сокровищ.",
        mechanicalEffects: {
            specialRules: [
                "Мелкий: яростно спорит о доле добычи",
                "Крупный: может драться до последнего или убить за «честную долю»"
            ]
        }
    },
    {
        id: "bloodthirsty",
        name: "Жажда крови",
        size: "major",
        description: "Персонаж не берёт пленных (если нет приказа старших), что может повлечь неприятности в военной кампании.",
        mechanicalEffects: {
            specialRules: [
                "Не берёт пленных без приказа",
                "Штраф -4 к Харизме, если жестокий нрав стал известен"
            ]
        }
    },
    {
        id: "delusional",
        name: "Заблуждение",
        size: "minor",
        description: "Персонаж верит в то, что остальные посчитали бы странным.",
        mechanicalEffects: {
            specialRules: [
                "Мелкий: безвредные идеи, которые держит при себе (правительство подмешивает успокоительное в напитки и т.д.)",
                "Крупный: часто выражает заблуждение, что может закончиться трагично (правительство захватили инопланетяне, аллергия на броню и т.д.)"
            ]
        }
    },
    {
        id: "arrogant",
        name: "Заносчивость",
        size: "major",
        description: "Персонаж точно знает, что он лучше всех. Ему мало победить — он должен продемонстрировать полное превосходство.",
        mechanicalEffects: {
            specialRules: [
                "Ищет «главного» противника в бою",
                "Атакует менее важных противников только если мешают",
                "Может выбивать оружие из рук, чтобы вернуть с презрением"
            ]
        }
    },
    {
        id: "vow",
        name: "Клятва",
        size: "minor",
        description: "Персонаж принёс некую клятву (клятва Гиппократа, обет очистить мир от зла и т.д.).",
        mechanicalEffects: {
            specialRules: [
                "Серьёзность зависит от опасности исполнения и строгости соблюдения",
                "Становится изъяном только если фигурирует в игре и доставляет неудобства"
            ]
        }
    },
    {
        id: "codeOfHonor",
        name: "Кодекс чести",
        size: "major",
        description: "Честь очень важна для персонажа. Держит слово, не унижает или убивает узников, действует как джентльмен/леди.",
        mechanicalEffects: {
            specialRules: [
                "Соблюдает кодекс чести даже в ущерб практичности",
                "Не унижает и не убивает пленников"
            ]
        }
    },
    {
        id: "small",
        name: "Коротышка",
        size: "major",
        description: "По сравнению с представителями своей расы персонаж очень тощий или коротышка (или и то, и другое).",
        mechanicalEffects: {
            attributeModifiers: {
                vigor: -1 // Стойкость = Выносливость (vigor)
            }
        }
    },
    {
        id: "allThumbs",
        name: "Кривые руки",
        size: "minor",
        description: "Персонаж не может справиться с современной техникой.",
        mechanicalEffects: {
            checkPenalties: [
                {
                    situation: "Попытки применить навык Ремонт",
                    penalty: -2
                }
            ],
            specialRules: [
                "Результат 1 на кубике навыка при использовании устройства → поломка",
                "Устранение поломки: штраф -2 к Ремонту, 1d6 часов"
            ]
        }
    },
    {
        id: "curious",
        name: "Любопытство",
        size: "major",
        description: "Любопытных персонажей легко втянуть в авантюру. Им хочется всё увидеть и проникнуть в каждую тайну.",
        mechanicalEffects: {
            specialRules: [
                "Склонен исследовать опасные места из любопытства"
            ]
        }
    },
    {
        id: "vengeful",
        name: "Мстительность",
        size: "minor",
        description: "Персонаж всегда пытается восстановить справедливость по отношению к себе.",
        mechanicalEffects: {
            specialRules: [
                "Мелкий: добивается возмездия законным путём",
                "Крупный: не остановится даже перед убийством ради мести"
            ]
        }
    },
    {
        id: "illiterate",
        name: "Неграмотность",
        size: "minor",
        description: "Персонаж не умеет читать, кое-как пишет имя, с трудом читает простые надписи, плохо знаком с арифметикой.",
        mechanicalEffects: {
            specialRules: [
                "Не умеет читать/писать ни на одном языке",
                "Может говорить на нескольких языках"
            ]
        }
    },
    {
        id: "unlucky",
        name: "Неудачник",
        size: "major",
        description: "Герою везёт чуть меньше остальных.",
        mechanicalEffects: {
            resourceEffects: [
                {
                    type: "bennies",
                    effect: "На 1 фишку меньше в начале каждой сессии"
                }
            ],
            specialRules: [
                "Не может иметь одновременно изъян Неудачник и черту Везение"
            ]
        }
    },
    {
        id: "oneEyed",
        name: "Одноглазый",
        size: "major",
        description: "Персонаж лишился глаза. Без повязки/стеклянного глаза получает штраф к Харизме из-за уродства.",
        mechanicalEffects: {
            attributeModifiers: {
                // Харизма не является характеристикой, но влияет на соц. взаимодействия
            },
            checkPenalties: [
                {
                    situation: "Проверки, требующие ясности восприятия (Стрельба, Метание, прыжки)",
                    penalty: -2
                }
            ],
            specialRules: [
                "Штраф -1 к Харизме без повязки/имитации глаза",
                "Стеклянный глаз стоит ~500 $"
            ]
        }
    },
    {
        id: "oneLegged",
        name: "Одноногий",
        size: "major",
        description: "Отсутствие ноги. С протезом аналогично Хромоте, без протеза — серьёзные ограничения.",
        mechanicalEffects: {
            resourceEffects: [
                {
                    type: "pace",
                    effect: "С протезом: Шаг -2, бег на d4; без протеза: Шаг = 2, бег невозможен"
                }
            ],
            checkPenalties: [
                {
                    situation: "Проверки, связанные с движением (Лазанье, Драка)",
                    penalty: -2
                },
                {
                    situation: "Навык Плаванье и Шаг без протеза",
                    penalty: -2
                }
            ]
        }
    },
    {
        id: "oneArmed",
        name: "Однорукий",
        size: "major",
        description: "У персонажа нет одной руки. Действия, требующие двух рук, осуществляются со штрафом.",
        mechanicalEffects: {
            checkPenalties: [
                {
                    situation: "Действия, требующие двух рук (Лазанье и др.)",
                    penalty: -4
                }
            ]
        }
    },
    {
        id: "pacifist",
        name: "Пацифизм",
        size: "minor",
        description: "Персонаж не приемлет насилия.",
        mechanicalEffects: {
            specialRules: [
                "Мелкий: не дерётся, пока есть иной выбор; не убивает пленников и беззащитных",
                "Крупный: не трогает живое существо ни при каких обстоятельствах (демоны, нежить не в счёт)",
                "Предпочитает несмертельное оружие (кулаки)"
            ]
        }
    },
    {
        id: "cautious",
        name: "Перестраховщик",
        size: "minor",
        description: "Персонаж воплощает излишнюю предосторожность. Никогда не поступает необдуманно, любит строить подробные планы.",
        mechanicalEffects: {
            specialRules: [
                "Медлит с принятием решений, предпочитает тщательное планирование"
            ]
        }
    },
    {
        id: "poorEyesight",
        name: "Плохое зрение",
        size: "minor",
        description: "Зрение персонажа уже не то, что раньше.",
        mechanicalEffects: {
            checkPenalties: [
                {
                    situation: "Атака/заметить цель на расстоянии >5 клеток без очков",
                    penalty: -2
                }
            ],
            specialRules: [
                "Мелкий: штраф отсутствует при наличии очков (50% шанс потери при ранении)",
                "Крупный (в мирах без очков): штраф -2 на расстоянии >5 клеток всегда"
            ]
        }
    },
    {
        id: "deathWish",
        name: "Последнее желание",
        size: "minor",
        description: "Персонаж согласен умереть, только когда добьётся своей цели (месть, уход в ореоле славы при болезни).",
        mechanicalEffects: {
            specialRules: [
                "Идёт на любой риск ради достижения цели",
                "Обычно мелкий изъян, если цель не слишком доступна"
            ]
        }
    },
    {
        id: "quirk",
        name: "Причуда",
        size: "minor",
        description: "Мелкая причуда, часто курьёзная, но изредка доставляющая неприятности (вырезать инициалы на шкуре врага, хвастаться культурой и т.д.).",
        mechanicalEffects: {
            specialRules: [
                "Периодически создаёт неудобства из-за странного поведения"
            ]
        }
    },
    {
        id: "overconfident",
        name: "Самоуверенность",
        size: "major",
        description: "Персонаж верит, что может победить любого противника и сделать практически всё. Берёт на себя больше, чем диктует здравый смысл.",
        mechanicalEffects: {
            specialRules: [
                "Принимает вызовы, которые разумный человек отверг бы",
                "Не склонен к самоубийствам, но сильно переоценивает свои силы"
            ]
        }
    },
    {
        id: "blind",
        name: "Слепота",
        size: "major",
        description: "Незрячий персонаж.",
        mechanicalEffects: {
            checkPenalties: [
                {
                    situation: "Физические действия, требующие зрения",
                    penalty: -6
                },
                {
                    situation: "Социальные действия (невозможность «читать» собеседника)",
                    penalty: -2
                }
            ],
            specialRules: [
                "Получает бесплатную дополнительную черту для компенсации изъяна"
            ]
        }
    },
    {
        id: "elderly",
        name: "Старость",
        size: "major",
        description: "Персонаж уже не молод, но ещё не в доме престарелых.",
        mechanicalEffects: {
            resourceEffects: [
                {
                    type: "pace",
                    effect: "Шаг уменьшается на 1"
                },
                {
                    type: "skillPoints",
                    effect: "Получает +5 пунктов навыков для навыков, связанных со Смекалкой"
                }
            ],
            specialRules: [
                "Сила и Выносливость снижаются на одну ступень (минимум d4), их невозможно увеличить"
            ]
        }
    },
    {
        id: "obese",
        name: "Толстяк",
        size: "minor",
        description: "Крупным людям труднее справляться с нагрузкой. Не может быть одновременно Толстяком и Бугаём.",
        mechanicalEffects: {
            attributeModifiers: {
                vigor: +1 // +1 к Стойкости
            },
            resourceEffects: [
                {
                    type: "pace",
                    effect: "Шаг понижается на 1, бег на d4"
                }
            ],
            specialRules: [
                "Могут быть проблемы с поиском брони/одежды подходящего размера",
                "Трудно протискиваться в узкие места"
            ]
        }
    },
    {
        id: "lame",
        name: "Хромота",
        size: "major",
        description: "Персонаж был ранен в прошлом, отделался хромотой.",
        mechanicalEffects: {
            resourceEffects: [
                {
                    type: "pace",
                    effect: "Базовый Шаг уменьшается на 2, бег на d4 (Шаг никогда не падает ниже 1)"
                }
            ]
        }
    },
    {
        id: "outsider",
        name: "Чужак",
        size: "minor",
        description: "В обществе с закрытыми привилегиями персонаж не относится ни к одному из привилегированных слоёв (индеец на Диком Западе, орк среди эльфов и т.д.).",
        mechanicalEffects: {
            specialRules: [
                "Местные завышают цены, игнорируют просьбы о помощи",
                "Относятся как к существу второго сорта",
                "Штраф -2 к Харизме вне круга таких же как он"
            ]
        }
    },
    {
        id: "young",
        name: "Юность",
        size: "major",
        description: "Дети (8-12 лет по человеческим меркам), вынужденные пускаться в опасные приключения.",
        mechanicalEffects: {
            resourceEffects: [
                {
                    type: "bennies",
                    effect: "Дополнительная фишка в начале каждой сессии"
                },
                {
                    type: "skillPoints",
                    effect: "Только 10 пунктов навыков (вместо 15)"
                }
            ],
            specialRules: [
                "Только 3 пункта характеристик (вместо 5)",
                "При взрослении (18 лет) теряет дополнительную фишку, не требуется выкупать изъян"
            ]
        }
    },
    {
        id: "spendthrift",
        name: "Транжира",
        size: "minor",
        description: "Персонаж расточителен с деньгами.",
        mechanicalEffects: {
            resourceEffects: [
                {
                    type: "money",
                    effect: "Вдвое меньше денег на старте; раз в игровую неделю сбережения уменьшаются вдвое"
                }
            ]
        }
    },
    {
        id: "yellow",
        name: "Трусость",
        size: "major",
        description: "Персонажу становится дурно от вида крови, панически боится ранений.",
        mechanicalEffects: {
            checkPenalties: [
                {
                    situation: "Проверки Характера, связанные со страхом",
                    penalty: -2
                }
            ]
        }
    },
    {
        id: "hardOfHearing",
        name: "Тугой на ухо",
        size: "minor",
        description: "Персонаж частично или полностью потерял слух.",
        mechanicalEffects: {
            checkPenalties: [
                {
                    situation: "Проверки Внимания, требующие слуха (мелкий изъян)",
                    penalty: -2
                },
                {
                    situation: "Полная глухота: автоматический провал проверок Внимания, связанных со слухом (крупный изъян)",
                    penalty: -99 // условное обозначение автоматического провала
                }
            ],
            specialRules: [
                "Мелкий: штраф -2 при необходимости что-то услышать, включая пробуждение от громких звуков",
                "Крупный: полностью глух, не слышит ничего"
            ]
        }
    },
    {
        id: "stubborn",
        name: "Упрямство",
        size: "minor",
        description: "Упрямец всегда делает всё по-своему и никогда не признаёт ошибок.",
        mechanicalEffects: {
            specialRules: [
                "Даже при очевидной ошибке пытается доказать правоту полуправдой и заумными объяснениями"
            ]
        }
    },
    {
        id: "ugly",
        name: "Уродство",
        size: "minor",
        description: "Персонаж настолько уродлив, что его Харизма понижается, а противоположный пол шарахается от него.",
        mechanicalEffects: {
            specialRules: [
                "Штраф -2 к Харизме",
                "Противоположный пол избегает персонажа"
            ]
        }
    },
    {
        id: "doubtingThomas",
        name: "Фома неверующий",
        size: "minor",
        description: "Скептик, пытающийся найти рациональное объяснение необычным вещам. Даже узнав о существовании сверхъестественного, цепляется за скепсис.",
        mechanicalEffects: {
            checkPenalties: [
                {
                    situation: "Проверки страха при столкновении со сверхъестественной жутью",
                    penalty: -2
                }
            ]
        }
    }
];

export const edges: Edge[] = [
    // === ЧЕРТЫ ПРЕДЫСТОРИИ ===
    {
        id: "ambidextrous",
        name: "Амбидекстр",
        description: "Персонаж одинаково хорошо владеет и правой, и левой рукой. Не получает штраф –2 за работу непривычной рукой.",
        category: "background",
        rankRequirement: "novice",
        attributeRequirements: [{ attribute: "agility", minDie: "d8" }],
        mechanicalEffects: [
            "Игнорирует штраф –2 за использование непривычной руки"
        ]
    },
    {
        id: "aristocrat",
        name: "Аристократ",
        description: "Благородное происхождение даёт привилегии и обязанности. Даёт +2 к Харизме и черту Богатство.",
        category: "background",
        rankRequirement: "novice",
        mechanicalEffects: [
            "+2 к Харизме",
            "Автоматически получает черту Богатство",
            "Имеет земли, войска, особняк (по усмотрению ведущего)"
        ],
        notes: "С привилегиями приходят и обязанности: управление провинцией, защита от завистников и т.д."
    },
    {
        id: "alertness",
        name: "Бдительность",
        description: "Персонаж очень наблюдателен и ничего не упускает из виду.",
        category: "background",
        rankRequirement: "novice",
        mechanicalEffects: [
            "+2 к проверкам Внимания при наблюдении, прислушивании, принюхивании"
        ]
    },
    {
        id: "berserker",
        name: "Берсерк",
        description: "После получения ранения персонаж может впасть в ярость, теряя защиту, но усиливая атаку.",
        category: "background",
        rankRequirement: "novice",
        mechanicalEffects: [
            "После ранения: проверка Смекалки или впадает в Берсерка",
            "В ярости: Защита –2, но +2 к Драке, Силе, урону в ближнем бою и Стойкости",
            "Игнорирует штрафы от ранений",
            "Не может использовать навыки, требующие концентрации (кроме Запугивания)",
            "При результате 1 на кубике Драки атакует ближайшую цель (друга или врага)",
            "Выход из ярости: целый раунд бездействия + проверка Смекалки со штрафом –2"
        ]
    },
    {
        id: "wealth",
        name: "Богатство",
        description: "Персонаж обладает значительным состоянием.",
        category: "background",
        rankRequirement: "novice",
        mechanicalEffects: [
            "В 3 раза больше стартовых денег",
            "Постоянный доход ~150 тыс. $ в год (в соответствующих мирах)"
        ]
    },
    {
        id: "wealth-plus",
        name: "Богатство+",
        description: "Персонаж очень богат.",
        category: "background",
        rankRequirement: "novice",
        prerequisiteEdges: ["wealth", "aristocrat"],
        isEnhancedVersion: true,
        baseEdgeId: "wealth",
        mechanicalEffects: [
            "В 5 раз больше стартовых денег",
            "Постоянный доход ~500 тыс. $ в год (в соответствующих мирах)"
        ],
        notes: "Требует тщательной проработки предыстории и несёт бремя обязанностей"
    },
    {
        id: "bruiser",
        name: "Бугай",
        description: "Крупное или крепкое телосложение позволяет выдерживать большие нагрузки.",
        category: "background",
        rankRequirement: "novice",
        attributeRequirements: [
            { attribute: "strength", minDie: "d6" },
            { attribute: "vigor", minDie: "d6" }
        ],
        mechanicalEffects: [
            "+1 к Стойкости",
            "Может нести груз в 4× значение Силы (вместо 2.5×)"
        ]
    },
    {
        id: "fleetFooted",
        name: "Быстроногость",
        description: "Увеличенная скорость передвижения и лучший бег.",
        category: "background",
        rankRequirement: "novice",
        attributeRequirements: [{ attribute: "agility", minDie: "d6" }],
        mechanicalEffects: [
            "Шаг +2",
            "Для бега использует d10 вместо d6"
        ]
    },
    {
        id: "luck",
        name: "Везение",
        description: "Судьба благоволит персонажу.",
        category: "background",
        rankRequirement: "novice",
        mechanicalEffects: [
            "+1 дополнительная фишка в начале каждой сессии"
        ]
    },
    {
        id: "luck-plus",
        name: "Везение+",
        description: "Особое благословение судьбы.",
        category: "background",
        rankRequirement: "novice",
        prerequisiteEdges: ["luck"],
        isEnhancedVersion: true,
        baseEdgeId: "luck",
        mechanicalEffects: [
            "+2 дополнительные фишки в начале каждой сессии"
        ]
    },
    {
        id: "supernaturalResistance",
        name: "Защита от сверхъестественного",
        description: "Почти полная невосприимчивость к магии и сверхъестественному.",
        category: "background",
        rankRequirement: "novice",
        attributeRequirements: [{ attribute: "spirit", minDie: "d8" }],
        mechanicalEffects: [
            "2 пункта брони против магического урона",
            "+2 к проверкам сопротивления любым магическим воздействиям"
        ]
    },
    {
        id: "supernaturalResistance-plus",
        name: "Защита от сверхъестественного+",
        description: "Повышенная защита от сверхъестественного.",
        category: "background",
        rankRequirement: "novice",
        prerequisiteEdges: ["supernaturalResistance"],
        isEnhancedVersion: true,
        baseEdgeId: "supernaturalResistance",
        mechanicalEffects: [
            "4 пункта брони против магического урона",
            "+4 к проверкам сопротивления любым магическим воздействиям"
        ]
    },
    {
        id: "strongWilled",
        name: "Здоров как бык",
        description: "Быстрое естественное выздоровление.",
        category: "background",
        rankRequirement: "novice",
        attributeRequirements: [{ attribute: "vigor", minDie: "d8" }],
        mechanicalEffects: [
            "+2 к проверкам Выносливости при естественном выздоровлении"
        ]
    },
    {
        id: "linguist",
        name: "Лингвист",
        description: "Талант к изучению иностранных языков.",
        category: "background",
        rankRequirement: "novice",
        attributeRequirements: [{ attribute: "smarts", minDie: "d6" }],
        mechanicalEffects: [
            "Знает количество языков = значение Смекалки на старте",
            "После недели в языковой среде: проверка Смекалки со штрафом –2 для понимания любого языка/диалекта"
        ]
    },
    {
        id: "mysticGift",
        name: "Мистический дар",
        description: "Необходимая черта для использования магии, псионики и других сверхъестественных способностей.",
        category: "background",
        rankRequirement: "novice",
        specialRequirements: ["Особые условия (по усмотрению ведущего)"],
        mechanicalEffects: [
            "Позволяет использовать сверхъестественные силы (магия, псионика, безумная наука)"
        ],
        notes: "Полное описание в главе 5 (стр. 107)"
    },
    {
        id: "attractive",
        name: "Привлекательность",
        description: "Симпатичная внешность облегчает социальное взаимодействие.",
        category: "background",
        rankRequirement: "novice",
        attributeRequirements: [{ attribute: "vigor", minDie: "d6" }],
        mechanicalEffects: [
            "+2 к Харизме"
        ]
    },
    {
        id: "attractive-plus",
        name: "Привлекательность+",
        description: "Сногсшибательная красота.",
        category: "background",
        rankRequirement: "novice",
        prerequisiteEdges: ["attractive"],
        isEnhancedVersion: true,
        baseEdgeId: "attractive",
        mechanicalEffects: [
            "Дополнительные +2 к Харизме (итого +4)"
        ]
    },
    {
        id: "brave",
        name: "Смелость",
        description: "Умение обуздывать страх.",
        category: "background",
        rankRequirement: "novice",
        attributeRequirements: [{ attribute: "spirit", minDie: "d6" }],
        mechanicalEffects: [
            "+2 к проверкам страха",
            "+2 к проверкам Храбрости (если используется в мире)"
        ]
    },
    {
        id: "quick",
        name: "Стремительность",
        description: "Идеальные рефлексы и холодный ум в бою.",
        category: "background",
        rankRequirement: "novice",
        attributeRequirements: [{ attribute: "agility", minDie: "d8" }],
        mechanicalEffects: [
            "Если карта действия ≤5, может набирать карты до получения >5",
            "С Хладнокровием: получает 2 карты, выбирает лучшую; если ≤5 — может заменять до получения ≥6"
        ]
    },

    // === БОЕВЫЕ ЧЕРТЫ ===
    {
        id: "twoFisted",
        name: "Атака с двух рук",
        description: "Умение драться с оружием в обеих руках одновременно.",
        category: "combat",
        rankRequirement: "novice",
        attributeRequirements: [{ attribute: "agility", minDie: "d8" }],
        mechanicalEffects: [
            "Может атаковать каждой рукой отдельно",
            "Игнорирует штраф за несколько действий при атаке двумя руками"
        ]
    },
    {
        id: "brawler",
        name: "Беспощадный",
        description: "Умение максимизировать урон.",
        category: "combat",
        rankRequirement: "seasoned",
        mechanicalEffects: [
            "Может потратить фишку для переброса кубиков урона (включая урон по площади)"
        ]
    },
    {
        id: "block",
        name: "Блок",
        description: "Умение отражать атаки противника.",
        category: "combat",
        rankRequirement: "seasoned",
        skillRequirements: [{ skill: "fighting", minDie: "d8" }],
        mechanicalEffects: [
            "+1 к Защите"
        ]
    },
    {
        id: "block-plus",
        name: "Блок+",
        description: "Улучшенная защита.",
        category: "combat",
        rankRequirement: "veteran",
        prerequisiteEdges: ["block"],
        isEnhancedVersion: true,
        baseEdgeId: "block",
        mechanicalEffects: [
            "+2 к Защите (вместо +1)"
        ]
    },
    {
        id: "combatReflexes",
        name: "Боевая закалка",
        description: "Быстрое восстановление после ранений.",
        category: "combat",
        rankRequirement: "seasoned",
        mechanicalEffects: [
            "+2 к проверке Характера для выхода из шока"
        ]
    },
    {
        id: "frenzy",
        name: "Боевая ярость",
        description: "Дополнительная атака в ближнем бою за счёт точности.",
        category: "combat",
        rankRequirement: "seasoned",
        skillRequirements: [{ skill: "fighting", minDie: "d10" }],
        mechanicalEffects: [
            "+1 дополнительная атака в ближнем бою за раунд",
            "Штраф –2 ко всем проверкам Драки при использовании ярости",
            "Атаки могут быть направлены против двух разных врагов в соседних клетках",
            "С оружием в обеих руках: всё равно только +1 атака"
        ]
    },
    {
        id: "frenzy-plus",
        name: "Боевая ярость+",
        description: "Боевая ярость без штрафа к точности.",
        category: "combat",
        rankRequirement: "veteran",
        prerequisiteEdges: ["frenzy"],
        isEnhancedVersion: true,
        baseEdgeId: "frenzy",
        mechanicalEffects: [
            "+1 дополнительная атака без штрафа –2 к Драке"
        ]
    },
    {
        id: "improvisationalFighter",
        name: "Боец-импровизатор",
        description: "Умение эффективно использовать импровизированное оружие.",
        category: "combat",
        rankRequirement: "seasoned",
        attributeRequirements: [{ attribute: "smarts", minDie: "d6" }],
        mechanicalEffects: [
            "Игнорирует стандартный штраф –1 при атаке импровизированным оружием"
        ]
    },
    {
        id: "quickDraw",
        name: "Быстрая реакция",
        description: "Мгновенная готовность оружия к бою.",
        category: "combat",
        rankRequirement: "novice",
        attributeRequirements: [{ attribute: "agility", minDie: "d8" }],
        mechanicalEffects: [
            "Выхватывание оружия — свободное действие (без штрафа –2 за несколько действий)",
            "+2 к проверкам Ловкости для подготовки оружия к бою"
        ]
    },
    {
        id: "strongWilledCombat",
        name: "Воля к победе",
        description: "Ненависть к поражению.",
        category: "combat",
        rankRequirement: "hero",
        mechanicalEffects: [
            "При ничьей в встречной проверке побеждает персонаж",
            "Может перебросить выпавшую 1 при встречной проверке навыка (второй результат обязателен)"
        ]
    },
    {
        id: "signatureWeapon",
        name: "Именное оружие",
        description: "Особая связь с конкретным оружием.",
        category: "combat",
        rankRequirement: "novice",
        skillRequirements: [
            { skill: "fighting", minDie: "d10" },
            { skill: "shooting", minDie: "d10" }
        ],
        mechanicalEffects: [
            "+1 к проверкам Драки/Стрельбы/Метания с этим оружием",
            "Можно выбрать несколько раз для разных видов оружия",
            "После потери оружия преимущества возвращаются через 2 игровые недели"
        ]
    },
    {
        id: "signatureWeapon-plus",
        name: "Именное оружие+",
        description: "Усиленная связь с оружием.",
        category: "combat",
        rankRequirement: "veteran",
        prerequisiteEdges: ["signatureWeapon"],
        isEnhancedVersion: true,
        baseEdgeId: "signatureWeapon",
        mechanicalEffects: [
            "+2 к проверкам Драки/Стрельбы/Метания с этим оружием (вместо +1)"
        ]
    },
    {
        id: "counterattack",
        name: "Контратака",
        description: "Мгновенная реакция на промах противника.",
        category: "combat",
        rankRequirement: "seasoned",
        skillRequirements: [{ skill: "fighting", minDie: "d8" }],
        mechanicalEffects: [
            "1 раз за раунд (если не в шоке): свободная атака со штрафом –2 против ближайшего противника, неудачно атаковавшего персонажа",
            "Обычная атака (не манёвр)",
            "Нельзя комбинировать с Боевой яростью или Круговым ударом",
            "Можно комбинировать с Обороной, но не с Глухой обороной"
        ]
    },
    {
        id: "counterattack-plus",
        name: "Контратака+",
        description: "Контратака без штрафа.",
        category: "combat",
        rankRequirement: "veteran",
        prerequisiteEdges: ["counterattack"],
        isEnhancedVersion: true,
        baseEdgeId: "counterattack",
        mechanicalEffects: [
            "Свободная контратака без штрафа –2"
        ]
    },
    {
        id: "hardToKill",
        name: "Крепкий орешек",
        description: "Высокая живучесть при смертельных ранениях.",
        category: "combat",
        rankRequirement: "novice",
        attributeRequirements: [{ attribute: "spirit", minDie: "d8" }],
        specialRequirements: ["Дикая карта"],
        mechanicalEffects: [
            "Игнорирует штрафы от ранений при проверках Выносливости при состоянии 'при смерти'",
            "Применяется только для проверок, провал которых = смерть или 'при смерти'"
        ]
    },
    {
        id: "hardToKill-plus",
        name: "Крепкий орешек+",
        description: "Чудесное выживание после смертельного ранения.",
        category: "combat",
        rankRequirement: "veteran",
        prerequisiteEdges: ["hardToKill"],
        isEnhancedVersion: true,
        baseEdgeId: "hardToKill",
        specialRequirements: ["Дикая карта"],
        mechanicalEffects: [
            "При 'смерти': бросок кубика — чётное = персонаж при смерти, но жив; нечётное = действительно мёртв",
            "Может быть связан, обыскан, принят за мёртвого, но каким-то чудом остаётся жив"
        ]
    },
    {
        id: "sweep",
        name: "Круговой удар",
        description: "Одновременная атака всех ближайших целей.",
        category: "combat",
        rankRequirement: "novice",
        attributeRequirements: [
            { attribute: "strength", minDie: "d8" }
        ],
        skillRequirements: [
            { skill: "fighting", minDie: "d8" }
        ],
        mechanicalEffects: [
            "Атака всех целей в соседних клетках одним ударом",
            "Штраф –2 ко всем атакам",
            "Проверка урона для каждой цели отдельно",
            "Нельзя комбинировать с Боевой яростью",
            "Максимум 1 раз за раунд",
            "Нельзя использовать с оружием во второй руке"
        ]
    },
    {
        id: "sweep-plus",
        name: "Круговой удар+",
        description: "Круговой удар без штрафа.",
        category: "combat",
        rankRequirement: "veteran",
        prerequisiteEdges: ["sweep"],
        isEnhancedVersion: true,
        baseEdgeId: "sweep",
        mechanicalEffects: [
            "Круговой удар без штрафа –2"
        ]
    },
    {
        id: "martialArtist",
        name: "Мастер боевых искусств",
        description: "Мастерство рукопашного боя.",
        category: "combat",
        rankRequirement: "novice",
        skillRequirements: [{ skill: "fighting", minDie: "d6" }],
        mechanicalEffects: [
            "Считается вооружённым даже без оружия",
            "Не подпадает под правило 'Безоружный противник'",
            "+d4 к урону при успешной атаке голыми руками"
        ]
    },
    {
        id: "martialArtist-plus",
        name: "Мастер боевых искусств+",
        description: "Идеальное владение рукопашным боем.",
        category: "combat",
        rankRequirement: "veteran",
        prerequisiteEdges: ["martialArtist"],
        skillRequirements: [
            { skill: "fighting", minDie: "d10" }
        ],
        isEnhancedVersion: true,
        baseEdgeId: "martialArtist",
        mechanicalEffects: [
            "+d6 к урону при атаке голыми руками (вместо +d4)"
        ]
    },
    {
        id: "marksman",
        name: "Меткий стрелок",
        description: "Точная стрельба без необходимости прицеливания.",
        category: "combat",
        rankRequirement: "seasoned",
        mechanicalEffects: [
            "Если не двигался в раунде: стреляет как при манёвре прицеливания",
            "Работает для Стрельбы и Метания",
            "Не работает при скорострельности оружия >1"
        ]
    },
    {
        id: "dodge",
        name: "Разрыв дистанции",
        description: "Умение безопасно выйти из ближнего боя.",
        category: "combat",
        rankRequirement: "novice",
        attributeRequirements: [{ attribute: "agility", minDie: "d8" }],
        mechanicalEffects: [
            "При проверке Ловкости: успех = 1 противник теряет право на свободную атаку при выходе из ближнего боя"
        ]
    },
    {
        id: "dodge-plus",
        name: "Разрыв дистанции+",
        description: "Полная безопасность при выходе из ближнего боя.",
        category: "combat",
        rankRequirement: "novice",
        prerequisiteEdges: ["dodge"],
        isEnhancedVersion: true,
        baseEdgeId: "dodge",
        mechanicalEffects: [
            "Успех с подъёмом = все противники теряют право на свободную атаку при выходе из ближнего боя"
        ]
    },
    {
        id: "rockAndRoll",
        name: "Рок-н-ролл!",
        description: "Умение стрелять из автоматического оружия без штрафа за отдачу.",
        category: "combat",
        rankRequirement: "seasoned",
        skillRequirements: [{ skill: "shooting", minDie: "d8" }],
        mechanicalEffects: [
            "Если не двигался: игнорирует штраф за отдачу при стрельбе из автоматического оружия"
        ]
    },
    {
        id: "steadyHands",
        name: "Стальные нервы",
        description: "Способность игнорировать штрафы от ранений.",
        category: "combat",
        rankRequirement: "novice",
        attributeRequirements: [{ attribute: "vigor", minDie: "d8" }],
        specialRequirements: ["Дикая карта"],
        mechanicalEffects: [
            "Игнорирует 1 единицу штрафа за ранения"
        ]
    },
    {
        id: "steadyHands-plus",
        name: "Стальные нервы+",
        description: "Полное игнорирование штрафов от ранений.",
        category: "combat",
        rankRequirement: "novice",
        prerequisiteEdges: ["steadyHands"],
        isEnhancedVersion: true,
        baseEdgeId: "steadyHands",
        mechanicalEffects: [
            "Игнорирует 2 единицы штрафа за ранения"
        ]
    },
    {
        id: "steadyAim",
        name: "Твёрдая рука",
        description: "Стабильность при стрельбе в движении.",
        category: "combat",
        rankRequirement: "novice",
        attributeRequirements: [{ attribute: "agility", minDie: "d8" }],
        mechanicalEffects: [
            "Игнорирует штраф за ненадёжную опору при стрельбе верхом или из движущегося транспорта",
            "Штраф –1 вместо –2 за действия на бегу"
        ]
    },
    {
        id: "strongArm",
        name: "Тяжёлая рука",
        description: "Сокрушительные удары в рукопашном бою.",
        category: "combat",
        rankRequirement: "novice",
        attributeRequirements: [{ attribute: "strength", minDie: "d8" }],
        mechanicalEffects: [
            "+2 к урону при рукопашной атаке без оружия"
        ]
    },
    {
        id: "strongArm-plus",
        name: "Тяжёлая рука+",
        description: "Максимальная сила удара.",
        category: "combat",
        rankRequirement: "seasoned",
        prerequisiteEdges: ["strongArm"],
        isEnhancedVersion: true,
        baseEdgeId: "strongArm",
        mechanicalEffects: [
            "При подъёме в Драке и атаке без оружия: бросает дополнительный d8 вместо d6 при проверке урона"
        ]
    },
    {
        id: "giantKiller",
        name: "Убийца великанов",
        description: "Знание уязвимых мест крупных существ.",
        category: "combat",
        rankRequirement: "veteran",
        mechanicalEffects: [
            "+1d6 к урону против существ, крупнее персонажа минимум на 3 размера"
        ]
    },
    {
        id: "dodge-defense",
        name: "Уклонение",
        description: "Умение уходить от атак противника.",
        category: "combat",
        rankRequirement: "seasoned",
        attributeRequirements: [{ attribute: "agility", minDie: "d8" }],
        mechanicalEffects: [
            "Противники получают штраф –1 к проверкам Стрельбы и Метания против персонажа (если не застигнут врасплох и не схвачен)",
            "+1 к Ловкости при увороте от атак по площади (когда физически возможно)"
        ]
    },
    {
        id: "dodge-defense-plus",
        name: "Уклонение+",
        description: "Улучшенное уклонение.",
        category: "combat",
        rankRequirement: "veteran",
        prerequisiteEdges: ["dodge-defense"],
        isEnhancedVersion: true,
        baseEdgeId: "dodge-defense",
        mechanicalEffects: [
            "Противники получают штраф –2 к атакам",
            "+2 к Ловкости при увороте от атак по площади"
        ]
    },
    {
        id: "determination",
        name: "Упорство",
        description: "Способность добиваться впечатляющих результатов.",
        category: "combat",
        rankRequirement: "novice",
        attributeRequirements: [{ attribute: "spirit", minDie: "d8" }],
        mechanicalEffects: [
            "При трате фишки на проверку любого параметра: +2 к общему результату"
        ]
    },
    {
        id: "firstStrike",
        name: "Упреждающий удар",
        description: "Атака противника, приблизившегося на дистанцию удара.",
        category: "combat",
        rankRequirement: "novice",
        attributeRequirements: [{ attribute: "agility", minDie: "d8" }],
        mechanicalEffects: [
            "1 раз за раунд (если не в шоке): атака противника, подошедшего на дистанцию удара",
            "Атака прерывает действие противника",
            "Не тратит действие персонажа, если он ещё не действовал или был наготове"
        ]
    },
    {
        id: "firstStrike-plus",
        name: "Упреждающий удар+",
        description: "Упреждающая атака против всех приблизившихся противников.",
        category: "combat",
        rankRequirement: "hero",
        prerequisiteEdges: ["firstStrike"],
        isEnhancedVersion: true,
        baseEdgeId: "firstStrike",
        mechanicalEffects: [
            "Может атаковать всех противников, приблизившихся на дистанцию удара"
        ]
    },
    {
        id: "fencer",
        name: "Флорентийская школа",
        description: "Мастерство фехтования двумя клинками.",
        category: "combat",
        rankRequirement: "novice",
        attributeRequirements: [{ attribute: "agility", minDie: "d8" }],
        skillRequirements: [{ skill: "fighting", minDie: "d8" }],
        mechanicalEffects: [
            "+1 к Драке против врага с одним клинком и без щита",
            "Противники получают штраф –1 к преимуществам от совместного нападения"
        ]
    },
    {
        id: "levelHeaded",
        name: "Хладнокровие",
        description: "Сохранение спокойствия в бою.",
        category: "combat",
        rankRequirement: "seasoned",
        attributeRequirements: [{ attribute: "smarts", minDie: "d8" }],
        mechanicalEffects: [
            "Получает 2 карты действия, выбирает лучшую",
            "Выбор происходит до применения других модификаторов/черт, влияющих на карты"
        ]
    },
    {
        id: "levelHeaded-plus",
        name: "Хладнокровие+",
        description: "Повышенная способность к тактическому мышлению.",
        category: "combat",
        rankRequirement: "seasoned",
        prerequisiteEdges: ["levelHeaded"],
        isEnhancedVersion: true,
        baseEdgeId: "levelHeaded",
        mechanicalEffects: [
            "Получает 3 карты действия, выбирает лучшую"
        ]
    },

    // === ДИКИЕ ЧЕРТЫ (срабатывают при джокере) ===
    {
        id: "mightyBlow",
        name: "Могучий удар",
        description: "Удвоение урона при джокере в рукопашном бою.",
        category: "combat",
        rankRequirement: "seasoned",
        skillRequirements: [{ skill: "fighting", minDie: "d10" }],
        specialRequirements: ["Дикая карта"],
        mechanicalEffects: [
            "При джокере: удваивает урон при успешной проверке Драки в этом раунде"
        ]
    },
    {
        id: "powerSurge",
        name: "Прилив силы",
        description: "Восстановление пунктов силы при джокере.",
        category: "supernatural",
        rankRequirement: "seasoned",
        skillRequirements: [{ skill: "knowledge", minDie: "d10", specialty: "оккультизм" }],
        specialRequirements: ["Дикая карта", "Сверхъестественный навык d10+"],
        mechanicalEffects: [
            "При джокере: восстанавливает 2d6 пунктов силы (но не выше лимита)"
        ]
    },
    {
        id: "deadShot",
        name: "Смертельный выстрел",
        description: "Удвоение урона при джокере в дальнем бою.",
        category: "combat",
        rankRequirement: "seasoned",
        skillRequirements: [
            { skill: "shooting", minDie: "d10" },
            { skill: "throwing", minDie: "d10" }
        ],
        specialRequirements: ["Дикая карта"],
        mechanicalEffects: [
            "При джокере: удваивает урон при успешной проверке Стрельбы/Метания в этом раунде"
        ]
    },

    // === ЛИДЕРСКИЕ ЧЕРТЫ ===
    {
        id: "command",
        name: "Командный голос",
        description: "Умение давать чёткие приказы и поддерживать боевой дух.",
        category: "leadership",
        rankRequirement: "novice",
        attributeRequirements: [{ attribute: "smarts", minDie: "d6" }],
        mechanicalEffects: [
            "+1 к проверкам Характера союзников для выхода из шока",
            "Командный радиус: 5 клеток"
        ]
    },
    {
        id: "command-plus",
        name: "Командный голос+",
        description: "Усиленное влияние на союзников.",
        category: "leadership",
        rankRequirement: "seasoned",
        prerequisiteEdges: ["command"],
        isEnhancedVersion: true,
        baseEdgeId: "command",
        mechanicalEffects: [
            "+2 к проверкам Характера союзников для выхода из шока (итого +2)"
        ]
    },
    {
        id: "naturalLeader",
        name: "Прирождённый лидер",
        description: "Особая связь с подчинёнными.",
        category: "leadership",
        rankRequirement: "novice",
        attributeRequirements: [{ attribute: "spirit", minDie: "d8" }],
        prerequisiteEdges: ["command"],
        mechanicalEffects: [
            "Может отдавать свои фишки любым диким картам под началом (при условии контакта)"
        ]
    },
    {
        id: "holdTheLine",
        name: "Держать строй!",
        description: "Укрепление обороны подчинённых.",
        category: "leadership",
        rankRequirement: "seasoned",
        attributeRequirements: [{ attribute: "smarts", minDie: "d8" }],
        prerequisiteEdges: ["command"],
        mechanicalEffects: [
            "+1 к Стойкости союзников в командном радиусе"
        ]
    },
    {
        id: "battleFocus",
        name: "Боевой пыл",
        description: "Вдохновение союзников на повышенный урон.",
        category: "leadership",
        rankRequirement: "veteran",
        attributeRequirements: [{ attribute: "spirit", minDie: "d8" }],
        prerequisiteEdges: ["command"],
        mechanicalEffects: [
            "+1 к проверкам урона союзников при использовании Драки"
        ]
    },
    {
        id: "commander",
        name: "Предводитель",
        description: "Идеальная слаженность отряда.",
        category: "leadership",
        rankRequirement: "veteran",
        prerequisiteEdges: ["command"],
        mechanicalEffects: [
            "Союзники при групповой проверке используют d10 вместо d6 как дикий кубик"
        ]
    },
    {
        id: "personalMagnetism",
        name: "Сила личности",
        description: "Расширенный командный радиус.",
        category: "leadership",
        rankRequirement: "novice",
        prerequisiteEdges: ["command"],
        mechanicalEffects: [
            "Командный радиус увеличен до 10 клеток"
        ]
    },
    {
        id: "tactician",
        name: "Тактик",
        description: "Интуитивное понимание тактики малых отрядов.",
        category: "leadership",
        rankRequirement: "seasoned",
        attributeRequirements: [{ attribute: "smarts", minDie: "d8" }],
        skillRequirements: [
            { skill: "knowledge", minDie: "d6", specialty: "военное дело" }
        ],
        prerequisiteEdges: ["command"],
        specialRequirements: ["Дикая карта"],
        mechanicalEffects: [
            "В начале боя: проверка Знания (военное дело); за каждый успех/подъём получает дополнительную карту действия",
            "Может отдавать дополнительные карты союзникам в начале раунда",
            "Дополнительные карты не возвращаются в колоду до конца боя (даже джокеры)",
            "Только один тактик может действовать в бою"
        ]
    },

    // === ПОТУСТОРОННИЕ ЧЕРТЫ ===
    {
        id: "beastBond",
        name: "Верный зверь",
        description: "Способность передавать волю животным.",
        category: "weird",
        rankRequirement: "novice",
        mechanicalEffects: [
            "Может тратить свои фишки на действия подконтрольных животных (ездовые, домашние, фамильяры)"
        ]
    },
    {
        id: "liquidCourage",
        name: "Глоток мужества",
        description: "Странный эффект алкоголя на персонажа.",
        category: "weird",
        rankRequirement: "novice",
        attributeRequirements: [{ attribute: "vigor", minDie: "d8" }],
        mechanicalEffects: [
            "Через раунд после приёма крепкого алкоголя: Выносливость повышается на одну ступень",
            "Игнорирует штрафы от одного уровня ранений",
            "Эффект длится 1 час",
            "При намеренном опьянении: штраф –2 к Смекалке и Ловкости во время и 1d6 часов после"
        ]
    },
    {
        id: "adept",
        name: "Адепт",
        description: "Воин, ставший живым оружием через тренировки и веру.",
        category: "weird",
        rankRequirement: "novice",
        skillRequirements: [
            { skill: "fighting", minDie: "d8" }
        ],
        specialRequirements: [
            "Мистический дар (чудеса)",
            "Вера d8+"
        ],
        mechanicalEffects: [
            "Свободное действие: трата 1 пункта силы → ББ 2 для всех атак голыми руками до следующего раунда",
            "С каждым рангом: может присвоить одной силе аспект 'На себя' (активация = свободное действие)",
            "Доступные силы для аспекта: Повышение/понижение параметра, Отражение, Исцеление, Сокрушение, Ускорение",
            "Не может активировать >1 силы в раунд"
        ]
    },
    {
        id: "acrobat",
        name: "Акробат",
        description: "Мастерство акробатических манёвров.",
        category: "weird",
        rankRequirement: "novice",
        attributeRequirements: [
            { attribute: "agility", minDie: "d8" },
            { attribute: "strength", minDie: "d6" }
        ],
        mechanicalEffects: [
            "+2 к проверкам Ловкости при акробатических манёврах (включая уловку)",
            "+1 к Защите (если нет штрафа за нагрузку)"
        ]
    },
    {
        id: "prepared",
        name: "Запасливый",
        description: "Умение оказываться с нужной вещью в нужный момент.",
        category: "weird",
        rankRequirement: "novice",
        prerequisiteEdges: ["luck"],
        mechanicalEffects: [
            "1 раз за сессию: может вспомнить, что у него есть нужный предмет (помещающийся в карман/рюкзак)",
            "Решение о наличии предмета — за ведущим"
        ]
    },
    {
        id: "beastMaster",
        name: "Укротитель",
        description: "Естественная связь с животными.",
        category: "weird",
        rankRequirement: "novice",
        attributeRequirements: [{ attribute: "spirit", minDie: "d8" }],
        mechanicalEffects: [
            "Животные не нападают, если персонаж не атаковал первым и они не взбешены",
            "Постоянный спутник-животное (пёс, волк, ящер и др. по усмотрению ведущего)",
            "Спутник — статист; при смерти замена через 2d6 дней"
        ]
    },
    {
        id: "healer",
        name: "Целитель",
        description: "Повышенная эффективность лечения.",
        category: "weird",
        rankRequirement: "novice",
        attributeRequirements: [{ attribute: "spirit", minDie: "d8" }],
        mechanicalEffects: [
            "+2 к проверкам Лечения (магического и обычного)",
            "+2 к проверкам естественного выздоровления собственных ранений",
            "+2 к проверкам естественного выздоровления до 5 спутников"
        ]
    },
    {
        id: "sixthSense",
        name: "Шестое чувство",
        description: "Предчувствие опасности.",
        category: "weird",
        rankRequirement: "novice",
        mechanicalEffects: [
            "Перед засадой/внезапной атакой: проверка Внимания со штрафом –2",
            "При успехе: понимает, что что-то не так, и может отреагировать (в первом раунде уже наготове)"
        ]
    },

    // === ПРОФЕССИОНАЛЬНЫЕ ЧЕРТЫ ===
    {
        id: "ace",
        name: "Ас",
        description: "Мастерство управления транспортом.",
        category: "professional",
        rankRequirement: "novice",
        attributeRequirements: [{ attribute: "agility", minDie: "d8" }],
        mechanicalEffects: [
            "+2 к проверкам Судовождения, Вождения и Пилотирования",
            "Может тратить фишки на проверку на прочность управляемого транспорта (Судовождение/Вождение/Пилотирование со штрафом –2)",
            "Каждый успех/подъём отменяет 1 повреждение и критическое попадание"
        ]
    },
    {
        id: "champion",
        name: "Воин света/тьмы",
        description: "Священный воин, сражающийся против сил зла/добра.",
        category: "professional",
        rankRequirement: "novice",
        attributeRequirements: [{ attribute: "spirit", minDie: "d8" }],
        specialRequirements: [
            "Мистический дар (чудеса)",
            "Вера d6+"
        ],
        mechanicalEffects: [
            "Свободное действие + 1 пункт силы: сокрушение зла/добра в радиусе = Характер персонажа",
            "Дикие карты-злодеи: проверка Характера или получают ранение",
            "Статисты-злодеи: проверка Характера — провал = шок, 1 = уничтожение"
        ],
        notes: "Воин тьмы сокрушает создания света (ангелы, паладины, добрые существа)"
    },
    {
        id: "thief",
        name: "Вор",
        description: "Мастер обмана, акробатики и взлома.",
        category: "professional",
        rankRequirement: "novice",
        attributeRequirements: [{ attribute: "agility", minDie: "d8" }],
        skillRequirements: [
            { skill: "climbing", minDie: "d6" },
            { skill: "lockpicking", minDie: "d6" },
            { skill: "stealth", minDie: "d8" }
        ],
        mechanicalEffects: [
            "+2 к проверкам Лазанья, Взлома, Маскировки",
            "+2 к проверкам Ремонта и Внимания, связанным с ловушками",
            "Преимущество в Маскировке только в городских условиях"
        ]
    },
    {
        id: "woodsman",
        name: "Егерь",
        description: "Мастер выживания в дикой природе.",
        category: "professional",
        rankRequirement: "novice",
        attributeRequirements: [{ attribute: "spirit", minDie: "d6" }],
        skillRequirements: [
            { skill: "survival", minDie: "d8" },
            { skill: "tracking", minDie: "d8" }
        ],
        mechanicalEffects: [
            "+2 к проверкам Выслеживания, Выживания и Маскировки в дикой природе (вне городов, руин, подземелий)"
        ]
    },
    {
        id: "fixIt",
        name: "Золотые руки",
        description: "Исключительный талант к ремонту.",
        category: "professional",
        rankRequirement: "novice",
        attributeRequirements: [{ attribute: "smarts", minDie: "d10" }],
        skillRequirements: [
            { skill: "repair", minDie: "d8" },
            { skill: "knowledge", minDie: "d8", specialty: "наука" } // Безумная наука
        ],
        specialRequirements: [
            "Мистический дар (безумная наука)",
            "Минимум 2 вида научного Знания d6+"
        ],
        mechanicalEffects: [
            "+2 к проверкам Ремонта",
            "При подъёме: время ремонта уменьшается в 4 раза (вместо 2×)"
        ]
    },
    {
        id: "chosen",
        name: "Избранный",
        description: "Проводник воли божества в борьбе со злом/добром.",
        category: "professional",
        rankRequirement: "novice",
        attributeRequirements: [
            { attribute: "spirit", minDie: "d8" },
            { attribute: "strength", minDie: "d6" },
            { attribute: "vigor", minDie: "d8" }
        ],
        skillRequirements: [
            { skill: "fighting", minDie: "d8" }
        ],
        specialRequirements: [
            "Мистический дар (чудеса)",
            "Вера d6+"
        ],
        mechanicalEffects: [
            "+2 к урону против сверхъестественных злых/добрых существ",
            "+2 к Стойкости против урона от порождений зла/добра (магия, оружие, когти, зубы)"
        ]
    },
    {
        id: "inventor",
        name: "Изобретатель",
        description: "Способность создавать механизмы на коленке.",
        category: "professional",
        rankRequirement: "novice",
        attributeRequirements: [{ attribute: "smarts", minDie: "d8" }],
        skillRequirements: [
            { skill: "repair", minDie: "d8" },
            { skill: "knowledge", minDie: "d8", specialty: "наука" } // Безумная наука
        ],
        specialRequirements: [
            "Мистический дар (безумная наука)",
            "Минимум 2 вида научного Знания d6+"
        ],
        mechanicalEffects: [
            "1 раз за сессию: создаёт импровизированный механизм за 2d10 минут",
            "Механизм работает как порождение безумной науки с выбранной силой (учитывая ограничения ранга)",
            "Содержит 50% пунктов силы изобретателя",
            "После истощения пунктов силы — сгорает, перезарядка невозможна"
        ]
    },
    {
        id: "investigator",
        name: "Исследователь",
        description: "Мастер поиска информации и улик.",
        category: "professional",
        rankRequirement: "novice",
        attributeRequirements: [{ attribute: "smarts", minDie: "d8" }],
        skillRequirements: [
            { skill: "investigation", minDie: "d8" },
            { skill: "streetwise", minDie: "d8" }
        ],
        mechanicalEffects: [
            "+2 к проверкам Расследования и Уличного чутья",
            "+2 к проверкам Внимания при поиске улик"
        ]
    },
    {
        id: "jackOfAllTrades",
        name: "Мастер на все руки",
        description: "Способность быстро осваивать нетренированные навыки.",
        category: "professional",
        rankRequirement: "novice",
        attributeRequirements: [{ attribute: "smarts", minDie: "d10" }],
        mechanicalEffects: [
            "При проверке нетренированных навыков, связанных со Смекалкой: использует d4 вместо d4–2"
        ]
    },
    {
        id: "mentalist",
        name: "Менталист",
        description: "Мастер контроля разума и псионики.",
        category: "professional",
        rankRequirement: "novice",
        attributeRequirements: [{ attribute: "smarts", minDie: "d8" }],
        skillRequirements: [
            { skill: "knowledge", minDie: "d6", specialty: "псионика" }
        ],
        specialRequirements: [
            "Мистический дар (псионика)"
        ],
        mechanicalEffects: [
            "+2 к встречным проверкам псионики (атака и защита)"
        ]
    },
    {
        id: "jackLeg",
        name: "Народный умелец",
        description: "Умение импровизировать без инструментов.",
        category: "professional",
        rankRequirement: "novice",
        attributeRequirements: [{ attribute: "smarts", minDie: "d6" }],
        skillRequirements: [
            { skill: "repair", minDie: "d6" },
            { skill: "notice", minDie: "d8" }
        ],
        mechanicalEffects: [
            "Игнорирует штраф за отсутствие оборудования при большинстве проверок",
            "Может создавать импровизированные устройства из подручных материалов (по усмотрению ведущего)"
        ]
    },
    {
        id: "assassin",
        name: "Убийца",
        description: "Мастер скрытных убийств.",
        category: "professional",
        rankRequirement: "novice",
        attributeRequirements: [{ attribute: "agility", minDie: "d8" }],
        skillRequirements: [
            { skill: "climbing", minDie: "d6" },
            { skill: "fighting", minDie: "d6" },
            { skill: "stealth", minDie: "d8" }
        ],
        mechanicalEffects: [
            "+2 к проверкам урона при атаке врасплох (включая дистанционные атаки)"
        ]
    },
    {
        id: "scholar",
        name: "Учёный",
        description: "Эксперт в выбранных областях знаний.",
        category: "professional",
        rankRequirement: "novice",
        skillRequirements: [
            { skill: "knowledge", minDie: "d8" }
        ],
        mechanicalEffects: [
            "Выбирает 2 области Знания с минимум d8",
            "+2 к проверкам выбранных областей Знания"
        ]
    },
    {
        id: "arcaneBackground",
        name: "Чародей",
        description: "Практик магии с особым подходом к заклинаниям.",
        category: "professional",
        rankRequirement: "novice",
        attributeRequirements: [{ attribute: "smarts", minDie: "d8" }],
        skillRequirements: [
            { skill: "knowledge", minDie: "d8", specialty: "оккультизм" }
        ],
        specialRequirements: [
            "Мистический дар (Магия)"
        ],
        mechanicalEffects: [
            "Каждый подъём при проверке сверхъестественного навыка уменьшает стоимость заклинания на 1 пункт силы",
            "Не может колдовать, если недостаточно пунктов силы для полной стоимости заклинания"
        ]
    },

    // === СВЕРХЪЕСТЕСТВЕННЫЕ ЧЕРТЫ ===
    {
        id: "powerPoints",
        name: "Пункты силы",
        description: "Дополнительные пункты силы для сверхъестественных способностей.",
        category: "supernatural",
        rankRequirement: "novice",
        specialRequirements: ["Мистический дар"],
        mechanicalEffects: [
            "+5 пунктов силы",
            "Можно брать 1 раз за каждый ранг персонажа"
        ]
    },
    {
        id: "power",
        name: "Новая сила",
        description: "Получение дополнительной сверхъестественной силы.",
        category: "supernatural",
        rankRequirement: "novice",
        specialRequirements: ["Мистический дар"],
        mechanicalEffects: [
            "Получает новую силу из списка, соответствующего его Мистическому дару",
            "Можно выбирать несколько раз"
        ]
    },
    {
        id: "powerRecovery",
        name: "Восстановление силы",
        description: "Ускоренное восстановление пунктов силы.",
        category: "supernatural",
        rankRequirement: "seasoned",
        attributeRequirements: [{ attribute: "spirit", minDie: "d6" }],
        specialRequirements: ["Мистический дар"],
        mechanicalEffects: [
            "Восстанавливает 1 пункт силы каждые 30 минут"
        ]
    },
    {
        id: "powerRecovery-plus",
        name: "Восстановление силы+",
        description: "Ещё более быстрое восстановление силы.",
        category: "supernatural",
        rankRequirement: "veteran",
        prerequisiteEdges: ["powerRecovery"],
        isEnhancedVersion: true,
        baseEdgeId: "powerRecovery",
        mechanicalEffects: [
            "Восстанавливает 1 пункт силы каждые 15 минут"
        ]
    },
    {
        id: "soulDrain",
        name: "Иссушение духа",
        description: "Выкачивание энергии из собственной души.",
        category: "supernatural",
        rankRequirement: "seasoned",
        skillRequirements: [
            { skill: "knowledge", minDie: "d10", specialty: "оккультизм" }
        ],
        specialRequirements: [
            "Мистический дар (кроме безумной науки)"
        ],
        mechanicalEffects: [
            "Свободное действие: объявляет количество пунктов силы для получения",
            "Проверка Характера со штрафом = количество запрашиваемых пунктов",
            "Результат 1 на кубике Характера: ранение + потеря сознания на 1d6 часов",
            "Провал: ранение",
            "Успех/подъём: получает заявленное количество пунктов силы (немедленное использование, нельзя сохранить)"
        ]
    },

    // === СОЦИАЛЬНЫЕ ЧЕРТЫ ===
    {
        id: "strongWilledSocial",
        name: "Железная воля",
        description: "Способность подавлять волю оппонента.",
        category: "social",
        rankRequirement: "novice",
        skillRequirements: [
            { skill: "intimidation", minDie: "d6" },
            { skill: "taunt", minDie: "d6" }
        ],
        mechanicalEffects: [
            "+2 к проверкам Запугивания и Провокации",
            "+2 к проверкам Характера и Смекалки при поединках воли"
        ]
    },
    {
        id: "teamPlayer",
        name: "Мы команда",
        description: "Уникальная связь с союзниками.",
        category: "social",
        rankRequirement: "novice",
        attributeRequirements: [{ attribute: "spirit", minDie: "d8" }],
        specialRequirements: ["Дикая карта"],
        mechanicalEffects: [
            "Может отдавать свои фишки любой дикой карте, способной его видеть/слышать",
            "Игрок должен описать, как персонаж подбадривает союзника"
        ]
    },
    {
        id: "connections",
        name: "Полезные связи",
        description: "Знакомства в влиятельных организациях.",
        category: "social",
        rankRequirement: "novice",
        mechanicalEffects: [
            "1 раз за сессию: может связаться с контактом в организации для помощи",
            "Для связи: проверка Уличного чутья; при успехе — проверка Убеждения",
            "При успехе с подъёмом: контакт щедро делится информацией",
            "При 2+ подъёмах: контакт готов пожертвовать многим ради персонажа",
            "Можно брать несколько раз для разных организаций"
        ],
        notes: "Организации должны быть конкретными (не 'военные', а 'сухопутные войска США')"
    },
    {
        id: "charismatic",
        name: "Харизматичный",
        description: "Естественная привлекательность и умение работать с людьми.",
        category: "social",
        rankRequirement: "novice",
        attributeRequirements: [{ attribute: "spirit", minDie: "d8" }],
        mechanicalEffects: [
            "+2 к Харизме"
        ]
    },

    // === ЛЕГЕНДАРНЫЕ ЧЕРТЫ ===
    {
        id: "expertFighting",
        name: "Искусный воин",
        description: "Повышенная защита в бою.",
        category: "legendary",
        rankRequirement: "legend",
        skillRequirements: [{ skill: "fighting", minDie: "d12" }],
        mechanicalEffects: [
            "+1 к Защите"
        ]
    },
    {
        id: "expertFighting-plus",
        name: "Искусный воин+",
        description: "Максимальная защита.",
        category: "legendary",
        rankRequirement: "legend",
        prerequisiteEdges: ["expertFighting"],
        isEnhancedVersion: true,
        baseEdgeId: "expertFighting",
        mechanicalEffects: [
            "Дополнительные +1 к Защите (итого +2 от базовой)"
        ]
    },
    {
        id: "master",
        name: "Мастер",
        description: "Повышенный дикий кубик для выбранного параметра.",
        category: "legendary",
        rankRequirement: "legend",
        specialRequirements: ["Дикая карта", "Эксперт в параметре"],
        mechanicalEffects: [
            "Дикий кубик становится d10 при проверке выбранного параметра",
            "Можно брать по одному разу для разных параметров"
        ]
    },
    {
        id: "martialArtsMaster",
        name: "Гуру боевых искусств",
        description: "Максимальная эффективность рукопашного боя.",
        category: "legendary",
        rankRequirement: "legend",
        prerequisiteEdges: ["martialArtist-plus"],
        skillRequirements: [{ skill: "fighting", minDie: "d12" }],
        mechanicalEffects: [
            "+2 к урону голыми руками",
            "Можно брать до 5 раз (макс. бонус +10 к урону)"
        ]
    },
    {
        id: "indomitable",
        name: "Несгибаемый",
        description: "Повышенная стойкость организма.",
        category: "legendary",
        rankRequirement: "legend",
        mechanicalEffects: [
            "+1 к Стойкости"
        ]
    },
    {
        id: "indomitable-plus",
        name: "Несгибаемый+",
        description: "Максимальная стойкость.",
        category: "legendary",
        rankRequirement: "legend",
        prerequisiteEdges: ["indomitable"],
        isEnhancedVersion: true,
        baseEdgeId: "indomitable",
        mechanicalEffects: [
            "Дополнительные +1 к Стойкости (итого +2 от базовой)"
        ]
    },
    {
        id: "follower",
        name: "Помощник",
        description: "Преданный спутник-дикая карта.",
        category: "legendary",
        rankRequirement: "legend",
        specialRequirements: ["Дикая карта"],
        mechanicalEffects: [
            "Получает помощника с рангом Новичок (дикая карта)",
            "Помощник получает опыт по обычным правилам",
            "Если погибает — для получения нового нужно снова брать черту"
        ],
        notes: "Помощник может попадать в неприятности; иногда черта работает как изъян"
    },
    {
        id: "retinue",
        name: "Верные спутники",
        description: "Отряд преданных воинов.",
        category: "legendary",
        rankRequirement: "legend",
        specialRequirements: ["Дикая карта"],
        mechanicalEffects: [
            "При выборе: 5 спутников-статистов присоединяются к отряду",
            "Потери не восполняются автоматически — нужно снова брать черту",
            "Спутники требуют содержания и доли добычи",
            "Параметры по усмотрению ведущего (обычно как у солдата, стр. 100)"
        ]
    },
    {
        id: "professional",
        name: "Профессионал",
        description: "Высший уровень мастерства в области.",
        category: "legendary",
        rankRequirement: "legend",
        mechanicalEffects: [
            "Выбранный параметр становится d12+1",
            "Можно брать несколько раз, но только по одному разу для каждого параметра"
        ]
    },
    {
        id: "expert",
        name: "Эксперт",
        description: "Абсолютное мастерство.",
        category: "legendary",
        rankRequirement: "legend",
        prerequisiteEdges: ["professional"],
        mechanicalEffects: [
            "Выбранный параметр становится d12+2",
            "Требует наличия черты Профессионал для этого параметра"
        ]
    }
];

// Вспомогательные типы для работы с чертами


// Правила рангов персонажей
export const rankProgression: Record<Rank, { experience: number; description: string }> = {
    novice: { experience: 0, description: "Новичок" },
    seasoned: { experience: 20, description: "Закалённый" },
    veteran: { experience: 40, description: "Ветеран" },
    hero: { experience: 60, description: "Герой" },
    legend: { experience: 80, description: "Легенда" }
};


